# –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É `src/handlers/basic.py`

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: 6441 —Å—Ç—Ä–æ–∫–∞
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**: 101 (@router –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä)
- **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**: 84
- **–ì–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π —Å–æ—Å—Ç–æ—è–Ω–∏—è**: 5

## –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω–∞–º (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø) ‚≠ê

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
src/handlers/
‚îú‚îÄ‚îÄ __init__.py              # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ common.py                 # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (_cleanup_message, _not_admin, _send_clean_message, _navigate)
‚îú‚îÄ‚îÄ state.py                  # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (PENDING_INPUT, LAST_BOT_MESSAGES, etc.)
‚îú‚îÄ‚îÄ commands.py               # –í—Å–µ Command handlers (cmd_start, cmd_help, cmd_health, etc.)
‚îú‚îÄ‚îÄ users.py                  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–∏—Å–∫, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
‚îú‚îÄ‚îÄ nodes.py                  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–æ–¥ (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
‚îú‚îÄ‚îÄ hosts.py                  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ö–æ—Å—Ç–æ–≤ (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–ø–∏—Å–æ–∫)
‚îú‚îÄ‚îÄ resources.py              # Tokens, Templates, Snippets, Configs
‚îú‚îÄ‚îÄ billing.py                # Billing, Providers, Billing Nodes
‚îú‚îÄ‚îÄ bulk.py                   # –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ system.py                 # –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (health, stats, system nodes)
‚îî‚îÄ‚îÄ navigation.py             # –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –æ–±—â–∏–µ callback handlers
```

**–û—Ü–µ–Ω–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –º–æ–¥—É–ª–µ–π:**
- `common.py`: ~300-400 —Å—Ç—Ä–æ–∫
- `state.py`: ~50-100 —Å—Ç—Ä–æ–∫
- `commands.py`: ~400-500 —Å—Ç—Ä–æ–∫
- `users.py`: ~1500-1800 —Å—Ç—Ä–æ–∫
- `nodes.py`: ~1200-1500 —Å—Ç—Ä–æ–∫
- `hosts.py`: ~500-700 —Å—Ç—Ä–æ–∫
- `resources.py`: ~800-1000 —Å—Ç—Ä–æ–∫
- `billing.py`: ~600-800 —Å—Ç—Ä–æ–∫
- `bulk.py`: ~400-600 —Å—Ç—Ä–æ–∫
- `system.py`: ~300-500 —Å—Ç—Ä–æ–∫
- `navigation.py`: ~200-300 —Å—Ç—Ä–æ–∫

**–ü–ª—é—Å—ã:**
‚úÖ –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
‚úÖ –õ–µ–≥—á–µ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –∫–æ–¥
‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
‚úÖ –£–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
‚úÖ –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

**–ú–∏–Ω—É—Å—ã:**
‚ùå –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –æ–±—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚ùå –ù—É–∂–Ω–æ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –æ–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚ùå –í–æ–∑–º–æ–∂–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã (—Ä–µ—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ common.py)

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
src/handlers/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ commands.py               # –í—Å–µ Command handlers
‚îú‚îÄ‚îÄ callbacks.py              # –í—Å–µ CallbackQuery handlers
‚îú‚îÄ‚îÄ messages.py               # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
‚îî‚îÄ‚îÄ utils.py                  # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

**–ü–ª—é—Å—ã:**
‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
‚ùå –§–∞–π–ª—ã –≤—Å–µ –µ—â–µ –±—É–¥—É—Ç –±–æ–ª—å—à–∏–º–∏ (callbacks.py ~4000+ —Å—Ç—Ä–æ–∫)
‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
‚ùå –°–ª–æ–∂–Ω–µ–µ –Ω–∞–π—Ç–∏ –∫–æ–¥ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–ö–æ–º–∞–Ω–¥—ã + –î–æ–º–µ–Ω—ã)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
src/handlers/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ commands.py               # –í—Å–µ Command handlers
‚îú‚îÄ‚îÄ common.py                 # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ users.py                  # Callback handlers –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ nodes.py                  # Callback handlers –¥–ª—è –Ω–æ–¥
‚îú‚îÄ‚îÄ hosts.py                  # Callback handlers –¥–ª—è —Ö–æ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ resources.py              # Callback handlers –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤
‚îú‚îÄ‚îÄ billing.py                # Callback handlers –¥–ª—è –±–∏–ª–ª–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ bulk.py                   # Callback handlers –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
‚îî‚îÄ‚îÄ system.py                 # Callback handlers –¥–ª—è —Å–∏—Å—Ç–µ–º—ã
```

**–ü–ª—é—Å—ã:**
‚úÖ –ö–æ–º–∞–Ω–¥—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (—É–¥–æ–±–Ω–æ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)
‚úÖ Callback handlers —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –¥–æ–º–µ–Ω–∞–º
‚úÖ –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π

**–ú–∏–Ω—É—Å—ã:**
‚ùå –ö–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å callbacks

---

## –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ù–ï –∏–∑–º–µ–Ω–∏—Ç—Å—è!

**–ü–æ—á–µ–º—É:**
1. **Python –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª–∏ –æ–¥–∏–Ω —Ä–∞–∑** - –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª—å –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ `sys.modules`
2. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ** - –≤—Å–µ —Ä–æ—É—Ç–µ—Ä—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–æ—Ç–∞
3. **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤** - —Ç–æ–ª—å–∫–æ –æ—Ç –ª–æ–≥–∏–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π
4. **–ò–º–ø–æ—Ä—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** - –Ω–æ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ, –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤

**–ß—Ç–æ –ú–û–ñ–ï–¢ –Ω–µ–º–Ω–æ–≥–æ —É–ª—É—á—à–∏—Ç—å—Å—è:**
- ‚úÖ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è (–µ—Å–ª–∏ –Ω–µ –≤—Å–µ –º–æ–¥—É–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —Å—Ä–∞–∑—É)
- ‚úÖ –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –º–æ–∂–µ—Ç –Ω–µ–º–Ω–æ–≥–æ —Å–Ω–∏–∑–∏—Ç—å—Å—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å lazy imports)
- ‚úÖ IDE –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ (–º–µ–Ω—å—à–µ –∫–æ–¥–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ)

**–ß—Ç–æ –ù–ï –∏–∑–º–µ–Ω–∏—Ç—Å—è:**
- ‚ùå –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚ùå –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞
- ‚ùå –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –°—Ç–æ–∏—Ç –ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å?

**–î–ê, –µ—Å–ª–∏:**
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ–µ–∫—Ç–∞
- –†–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)
- –•–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- –ß–∞—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ù–ï–¢, –µ—Å–ª–∏:**
- –ü—Ä–æ–µ–∫—Ç –Ω–µ–±–æ–ª—å—à–æ–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π
- –†–∞–±–æ—Ç–∞–µ—Ç–µ –æ–¥–∏–Ω –∏ —Ö–æ—Ä–æ—à–æ –∑–Ω–∞–µ—Ç–µ –∫–æ–¥
- –ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- –ë–æ–∏—Ç–µ—Å—å –≤–Ω–µ—Å—Ç–∏ –±–∞–≥–∏ –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥: –í–∞—Ä–∏–∞–Ω—Ç 1 (–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω–∞–º)

**–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:**
1. –°–æ–∑–¥–∞—Ç—å `common.py` –∏ `state.py` - –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
2. –°–æ–∑–¥–∞—Ç—å `users.py` - —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –º–æ–¥—É–ª—å (~1800 —Å—Ç—Ä–æ–∫)
3. –°–æ–∑–¥–∞—Ç—å `nodes.py` - –≤—Ç–æ—Ä–æ–π –ø–æ —Ä–∞–∑–º–µ—Ä—É (~1500 —Å—Ç—Ä–æ–∫)
4. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
5. –û–±–Ω–æ–≤–∏—Ç—å `__init__.py` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 4-8 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

---

## –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### `src/handlers/common.py`
```python
"""–û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤."""
from aiogram.types import Message, CallbackQuery
from src.utils.logger import logger
import asyncio

async def _cleanup_message(message: Message, delay: float = 0.0) -> None:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥

async def _not_admin(message: Message | CallbackQuery) -> bool:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥

async def _send_clean_message(...):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
```

### `src/handlers/state.py`
```python
"""–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞."""
PENDING_INPUT: dict[int, dict] = {}
LAST_BOT_MESSAGES: dict[int, int] = {}
USER_SEARCH_CONTEXT: dict[int, dict] = {}
USER_DETAIL_BACK_TARGET: dict[int, str] = {}
SUBS_PAGE_BY_USER: dict[int, int] = {}
```

### `src/handlers/users.py`
```python
"""–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏."""
from aiogram import F, Router
from aiogram.filters import Command
from aiogram.types import CallbackQuery, Message
from src.handlers.common import _not_admin, _send_clean_message
from src.handlers.state import PENDING_INPUT

router = Router(name="users")

@router.callback_query(F.data.startswith("user:"))
async def cb_user_actions(callback: CallbackQuery) -> None:
    # ... –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞

# ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### `src/handlers/__init__.py`
```python
from aiogram import Dispatcher
from src.handlers.commands import router as commands_router
from src.handlers.users import router as users_router
from src.handlers.nodes import router as nodes_router
from src.handlers.hosts import router as hosts_router
from src.handlers.resources import router as resources_router
from src.handlers.billing import router as billing_router
from src.handlers.bulk import router as bulk_router
from src.handlers.system import router as system_router
from src.handlers.navigation import router as navigation_router
from src.handlers.errors import errors_handler

def register_handlers(dp: Dispatcher) -> None:
    dp.include_router(commands_router)
    dp.include_router(users_router)
    dp.include_router(nodes_router)
    dp.include_router(hosts_router)
    dp.include_router(resources_router)
    dp.include_router(billing_router)
    dp.include_router(bulk_router)
    dp.include_router(system_router)
    dp.include_router(navigation_router)
    dp.errors.register(errors_handler)
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ **–ù–ï —É–ª—É—á—à–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–æ—Ç–∞, –Ω–æ **–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏—Ç**:
- üìñ –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
- üîß –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- üë• –†–∞–±–æ—Ç—É –≤ –∫–æ–º–∞–Ω–¥–µ
- üêõ –û—Ç–ª–∞–¥–∫—É –ø—Ä–æ–±–ª–µ–º
- üß™ –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ –í–∞—Ä–∏–∞–Ω—Ç—É 1, –Ω–æ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, –º–æ–¥—É–ª—å –∑–∞ –º–æ–¥—É–ª–µ–º, —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞.

